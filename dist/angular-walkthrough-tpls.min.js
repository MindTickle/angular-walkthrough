!function(a,b,c){"use strict";angular.module("angular-walkthrough",["templates"]),angular.module("templates",["wt-popover-toolbar.html"]),angular.module("wt-popover-toolbar.html",[]).run(["$templateCache",function(a){a.put("wt-popover-toolbar.html",'<!--  div class="pos_abs colo99" style="top:10px;right:10px">\n {{wtStep}} of {{totalSteps}}\n</div-->\n<div class="wt-popover-tb marginT8 pos_rel">\n\t<div class="floatL"></div>\n\t<div class="floatR lineHeight24">\n\t    <div class="tb-left floatL color99">\n\t     \t<div class="floatL colo99">\n\t\t\t {{wtStep}} of {{totalSteps}}\n\t\t\t</div>\n\t        <div class="floatL F12 marginL10 cursor"\n\t        \t ng-click="cancel()">\n\t\t        SKIP\n\t\t     </div>\n\t        <div ng-click="restart()"\n\t        \t class="floatL F12 marginL10 cursor" ng-if="wtStep > 1">\n\t\t        RESTART\n\t\t    </div>\n\t        <div ng-click="previous()"\n\t        \t class="ffloatL F12 marginL10 cursor" ng-if="wtStep > 1">\n\t\t         BACK\n\t\t      </div>\n\t        <div class="clear"></div>\n\t    </div>\n\t    <div ng-click="next()"\n\t    \tclass="tb-right floatL marginL10 next-btn F12 color0072bc cursor">\n\t        <!--  button ng-click="next()" class="btn btn-primary btn-xs next-btn"\n\t        \tstyle="background: none;text-shadow: none;box-shadow: none;padding: 0;line-height: 100%;">\n\t\t        {{ wtBtnText ? wtBtnText : ((totalSteps == wtStep) ? "Finish" : "Next") }}\n\t        </button-->\n\t        {{ wtBtnText ? wtBtnText : ((totalSteps == wtStep) ? "FINISH" : "NEXT") }}\n\t    </div>\n\t    <div class="clear"></div>\n\t   </div> \n\t   <div class="clear"></div>\n</div>')}]),angular.module("angular-walkthrough").directive("wtStepContent",[function(){return{restrict:"E",require:"^^wtStep",transclude:!0,scope:{},link:function(a,b,c,d,e){e(a.$parent.$new(),function(a,b){var c=angular.element("<div></div>").append(a);d._registerContent(c),a.on("$destroy",function(){b.$destroy()})}),a.$on("$destroy",function(){d._unregisterContent()})}}}]),angular.module("angular-walkthrough").controller("StepController",["$scope",function(a){var b=this;b._contentElement=null,b._registerContent=function(a){b._contentElement?console.log("Multiple wtStepContent directives detected. Only one is allowed per wtStep."):b._contentElement=a},b._unregisterContent=function(){this._contentElement=null}}]),angular.module("angular-walkthrough").directive("wtStep",["$compile","$q","$document","$templateCache","$timeout",function(a,b,c,d,e){return{restrict:"A",require:["^walkthrough","wtStep"],controller:"StepController",link:function(c,e,f,g){var h={};h.wtText=f.wtText,h.wtPosition=f.wtPosition,h.wtGroup=f.wtGroup,h.wtBtnText=f.wtBtnText,h.wtOnNext=f.wtOnNext,h.customCss=f.wtStepCss;var i=g[0],j=g[1];if(f.wtStep?h.wtStep=f.wtStep:console.log("Missing step number on wtStep directive"),j._contentElement||h.wtText){h.cancel=i.cancel,h.next=function(){h.wtOnNext&&h.wtOnNext(),i.next()},h.restart=i.start,h.previous=i.prev,h.$watch(function(){return i._getNumSteps(h.wtGroup)},function(a,b){a&&(h.totalSteps=a)});var k=a(d.get("wt-popover-toolbar.html"))(h);if(!j._contentElement){var l=angular.element("<div></div>").html(h.wtText);j._registerContent(l)}if(j._contentElement.append(k),"wtInteract"in f){var l=j._contentElement[0].querySelector(".next-btn");angular.element(l).addClass("hide")}var m,n;i._registerStep({step:parseInt(h.wtStep),group:h.wtGroup||"default",show:function(){function a(a,b){return angular.element(a).css(b)}var c=b.defer();e[0].scrollIntoView(!1),e.popover({html:!0,trigger:"manual",container:"body",template:'<div class="popover wt-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content wt-popover-content"></div></div>',viewport:{selector:"body",padding:2},placement:this.wtPosition?this.wtPosition:"auto",content:function(){return j._contentElement}}),e.on("shown.bs.popover",function(){c.resolve()}),m=e.css("z-index"),n=e.css("position"),e.css({"z-index":9999999,position:"relative"}),e.popover("show"),i._addHelperLayer(e),"wtInteract"in f||i._addCoverLayer(e);for(var d=e[0].parentNode;null!=d&&"body"!==d.tagName.toLowerCase();){var g=a(d,"position"),h=a(d,"z-index"),k=parseFloat(a(d,"opacity")),l=a(d,"transform")||a(d,"-webkit-transform")||a(d,"-moz-transform")||a(d,"-ms-transform")||a(d,"-o-transform");(/[0-9]+/.test(h)||k<1||"none"!==l)&&(d.className+=" wt-fixParent","fixed"===g&&(d.className+=" wt-position-fixed",i._removeHelperLayer(e),i._removeCoverLayer())),d=d.parentNode}return c.promise}.bind(h),hide:function(){var a=b.defer();e.on("hidden.bs.popover",function(){e.popover("destroy"),a.resolve()}),e.css({"z-index":m,position:n});for(var c=e[0].parentNode;null!=c&&"body"!==c.tagName.toLowerCase();)c.className.indexOf(!1)&&(c.className=c.className.replace(/wt-fixParent/g,"").replace(/^\s+|\s+$/g,""),c.className=c.className.replace(/wt-position-fixed/g,"").replace(/^\s+|\s+$/g,"")),c=c.parentNode;return e.popover("hide"),i._removeHelperLayer(),i._removeCoverLayer(),a.promise}})}else console.log("wtStep directive is missing content, need either wtText or wtStepContent.")}}}]),angular.module("angular-walkthrough").controller("WalkThroughController",["$scope","$rootScope","$q",function(a,b,d){var e=this;e.activeStep=null,e.registeredSteps={},e.deferred=d.defer(),e.start=function(b){return console.log("start: "+b),a._addOverlayLayer(),e._showNextStep(1,b),e.deferred.promise},e.next=function(){e._showNextStep()},e.prev=function(){e._showPreviousStep()},e.cancel=function(b){var d=e.deferred;return a._removeOverlayLayer(),e.activeStep&&e.activeStep.hide().then(function(){var a=e.activeStep;e.activeStep=c,d.resolve({cancel:!b,step:a})}),d.promise},e.active=function(){return!!e.activeStep},e._registerStep=function(a){e.registeredSteps[a.group]||(e.registeredSteps[a.group]={}),e.registeredSteps[a.group][a.step]=a},e._showNextStep=function(a,b){function c(a,b){e.activeStep=e.registeredSteps[b][a],e.activeStep.show()}var d=a||(e.activeStep?e.activeStep.step+1:1),f=b||(e.activeStep?e.activeStep.group:"default");e.registeredSteps[f]&&e.registeredSteps[f][d]?e.activeStep?e.activeStep.hide().then(function(){c(d,f)}):c(d,f):e.cancel(!0)},e._showPreviousStep=function(){e.activeStep&&e.registeredSteps[e.activeStep.group][e.activeStep.step-1]&&e._showNextStep(e.activeStep.step-1)},e._getNumSteps=function(a){return a=a||"default",Object.keys(e.registeredSteps[a]).length},e._addHelperLayer=function(b){a._addHelperLayer(b)},e._removeHelperLayer=function(){a._removeHelperLayer()},e._addCoverLayer=function(b){a._addCoverLayer(b)},e._removeCoverLayer=function(){a._removeCoverLayer()},e._addOverlayLayer=function(b){a._addOverlayLayer(b)},e._removeOverlayLayer=function(){a._removeOverlayLayer()}}]),angular.module("angular-walkthrough").directive("walkthrough",["$rootScope","$document",function(a,b){return{restrict:"A",scope:{wtStart:"=",wtNext:"=",wtPrev:"=",wtCancel:"=",wtActive:"="},controller:"WalkThroughController",link:function(a,b,c,d){"wtStart"in c&&(a.wtStart=d.start),"wtNext"in c&&(a.wtNext=d.next),"wtPrev"in c&&(a.wtPrev=d.prev),"wtCancel"in c&&(a.wtCancel=d.cancel),"wtActive"in c&&(a.wtActive=d.active);var e=!1,f=angular.element("<div></div>").addClass("wt-overlay");a._addOverlayLayer=function(){"body"===b[0].tagName.toLowerCase()?f.css({top:0,bottom:0,left:0,right:0,position:"fixed"}):f.css({top:b.offset().top,left:b.offset().left,width:b[0].offsetWidth,height:b[0].offsetHeight,opacity:"0.6",background:"#000",position:"absolute"}),e||(e=!0,b.append(f))},a._removeOverlayLayer=function(){e=!1,f.remove()};var g=!1,h=angular.element('<div class="wt-helperLayer"></div>');a._addHelperLayer=function(a){h.css({position:"absolute",top:a.offset().top,left:a.offset().left,width:a[0].offsetWidth,height:a[0].offsetHeight}),g||b.append(h)},a._removeHelperLayer=function(){g=!1,h.remove()};var i=!1,j=angular.element('<div class="wt-coverLayer"></div>');a._addCoverLayer=function(a){j.css({position:"absolute",top:a.offset().top,left:a.offset().left,width:a[0].offsetWidth,height:a[0].offsetHeight}),i||(i=!0,b.append(j))},a._removeCoverLayer=function(){i=!1,j.remove()}}}}])}(window,document);